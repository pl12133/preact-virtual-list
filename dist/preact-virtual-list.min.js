!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):(e=e||self,e.VirtualList=t(e.preact))}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function l(e,t){if(null==e)return{};var n,r,o=f(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}return function(n){function a(){var e,n;t(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p(this,(e=c(a)).call.apply(e,[this].concat(i))),o(u(n),"focus",function(e){var t=n.visibleRowRange,r=t.start,o=t.end,i=n.props.rowHeight;if(e<r||o<e)n.scrollTop=e*i,n.refocusIndex=e;else{var s=n.indexToVindex(e),c=Array.from(n.base.firstChild.firstChild.childNodes)[s];c&&c.focus()}}),o(u(n),"indexToVindex",function(e){return e-n.visibleRowRange.start}),o(u(n),"resize",function(){n.state.height!==n.base.offsetHeight&&n.setState({height:n.base.offsetHeight})}),o(u(n),"handleScroll",function(e){var t=n.visibleRowRange.start,r=Array.from(n.base.firstChild.firstChild.childNodes).indexOf(document.activeElement);n.setState({offset:n.scrollTop},function(){var e=n.visibleRowRange.start;if(t!==e){var o=void 0!==n.refocusIndex?n.indexToVindex(n.refocusIndex):t<e?r-(e-t):r+(t-e);n.refocusIndex=void 0;var i=Array.from(n.base.firstChild.firstChild.childNodes)[o];i&&i.focus()}}),n.props.sync&&n.forceUpdate(),n.props.onScroll&&n.props.onScroll(e)}),n}return s(a,n),r(a,[{key:"componentDidUpdate",value:function(){this.resize()}},{key:"componentDidMount",value:function(){this.resize(),addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){removeEventListener("resize",this.resize)}},{key:"render",value:function(t,n){var r=(n.offset,n.height,t.data),o=t.rowHeight,s=t.renderRow,c=(t.overscanCount,t.sync,l(t,["data","rowHeight","renderRow","overscanCount","sync"])),a=this.visibleRowRange,f=a.start,u=a.end,p=r.slice(f,u);return e.createElement("div",i({},c,{onScroll:this.handleScroll}),e.createElement("div",{style:"".concat("position:relative; overflow:hidden; width:100%; min-height:100%;"," height:").concat(r.length*o,"px;")},e.createElement("div",{style:"".concat("position:absolute; top:0; left:0; height:100%; width:100%; overflow:visible;"," top:").concat(f*o,"px;")},p.map(function(e,t){return s(e,f+t,r)}))))}},{key:"scrollTop",get:function(){return this.base&&this.base.scrollTop},set:function(e){this.base&&(this.base.scrollTop=e)}},{key:"visibleRowRange",get:function(){var e=this.props,t=e.overscanCount,n=void 0===t?10:t,r=e.rowHeight,o=this.state,i=o.offset,s=void 0===i?0:i,c=o.height,a=void 0===c?0:c,f=s/r|0,l=a/r|0;return n&&(f=Math.max(0,f-f%n),l+=n),{start:f,end:f+1+l,visibleRowCount:l}}}]),a}(e.Component)});
//# sourceMappingURL=preact-virtual-list.min.js.map